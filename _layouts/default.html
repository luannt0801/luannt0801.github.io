<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ page.title | default: site.title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="{{ page.description | default: site.description }}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    <!-- This is for highligh code block -->
    <script>
    MathJax = {
        tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
        },
        svg: {
        fontCache: 'global'
        }
    };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" async></script>
    <!-- CSS highlight cho code block -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rouge/3.26.0/themes/github.min.css">
</head>

<body>

    <div class="sidebar">
        <div class="text-center profile-section"> 
            <img src="/assets/imgs/Dudu.jpeg" alt="Avatar" class="profile-img">
            <div class="username">Luan Nguyen</div>
            <div class="userid">@luannt0801</div>
        </div>

        <div class="stat-box">
            <div class="stat-item total-views">
                <span>Total</span>
                <!-- <strong>105,501</strong> -->
                <strong id="total-views-value">0</strong>
            </div>
            <div class="stat-item today-views">
                <span>Today</span>
                <!-- <strong>1</strong> -->
                <strong id="today-views-value">0</strong>
            </div>
            <div class="stat-item yesterday-views">
                <span>Yesterday</span>
                <!-- <strong>71</strong> -->
                <strong id="yesterday-views-value">0</strong>
            </div>
        </div>

        <!-- <div class="search-box"> -->
            <!-- <input type="text" placeholder="Find Nemo..."> -->
            <!-- <button type="submit"><i class="fas fa-search"></i></button> -->
        <!-- </div> -->

        <div class="category-title"><a href="/">Categories</a> <span class="category-count">({% assign total_posts = site.posts | size %}{{ total_posts }})</span></div>
        <ul class="category-list">
            {% assign counted_posts = 0 %}
            {% for category in site.categories %}
                {% assign category_name = category | first %}
                {% assign posts_in_category = category | last | size %}
                {% assign counted_posts = counted_posts | plus: posts_in_category %}
                
                <li>
                    <span class="emoji">
                        {% case category_name %}
                            {% when "AI & ML" %} üê¨
                            {% when "Programming" %} üíª
                            {% when "Computer Science" %} ü§ñ
                            {% when "Mathematics" %}üßÆ
                            {% when "Project" %} üõ†Ô∏è
                            {% when "Books" %} üí°
                            {% when "Network" %} üõú
                            {% else %} üì¶
                        {% endcase %}
                    </span>
                    <a href="/categories/{{ category_name | slugify }}">{{ category_name }}</a>
                    <span>({{ posts_in_category }})</span>
                </li>
            {% endfor %}

            {% assign etc_count = total_posts | minus: counted_posts %}
            {% if etc_count > 0 %}
            <li><span class="emoji">üì¶</span> <a href="/categories/etc">etc.</a> <span>({{ etc_count }})</span></li>
            {% endif %}

        </ul>

        <div class="category-title">Menu Blog</div>
        <ul class="category-list footer-menu"> 
            <li><a href="/">Home Page</a></li>
            <!-- <li><a href="#">Notebooks</a></li> -->
            <li><a href="https://github.com/luannt0801" target="_blank">GitHub</a></li>
            <li><a href="https://www.youtube.com/@luannguyen.02" target="_blank">Youtube</a></li>
            <li><a href="https://www.linkedin.com/in/luannguyenthanh1802/" target="_blank">LinkedIn</a></li> 
        </ul>
        
        <div class="category-title">About me</div>
        <ul class="category-list footer-menu">
            <li><a href="/about.html" target="_blank">Nguyen Thanh Luan</a></li>
        </ul>

        <!-- <div class="category-title">Travel with bubu</div>
        <ul class="category-list footer-menu">
            <li><a href="/danang_map.html" target="_blank">Travel Da Nang</a></li>
        </ul> -->

        <!-- <div class="category-title">Travel with bubu</div>
        <ul class="category-list footer-menu">
            <li><a href="/happy_bubu.html" target="_blank">Travel Da Nang</a></li>
        </ul> -->


        <div class="category-title">Contact</div>
        <ul class="category-list">
            <li><span class="emoji">üìß</span> <a href="mailto:ntl080102@gmail.com" target="_blank">Mail</a></li>
            <!-- <li><span class="emoji">üîó</span> <a href="https://www.notion.so/luannt0801" target="_blank">Notion</a></li>  -->
        </ul>

        <!-- <div class="category-title">Notices</div> -->
        <!-- <ul class="category-list"> -->
            <!-- <li><span class="emoji">üêß</span> <a href="mailto:ntl080102@gmail.com">Contact ME</a></li>  -->
             <!-- <a href="/_layouts/about.html" target="_blank">About Luan</a> -->
        <!-- </ul> -->
        
        <!-- <div class="gif-box" style="text-align: center; margin: 10px 0;">
        <img src="/assets/imgs/pig_study.gif" alt="Fun GIF" style="width: 120px; height: 120px; border-radius: 8px;">
        </div> -->
        
        <div class="foot-sidebar">
          <div class="footer-title">Welcome to Luan's Blog</div>
          <div class="footer-links">
            <!-- <a href="https://github.com/luannt0801" target="_blank">GitHub</a> -->
            <!-- <a href="mailto:ntl080102@gmail.com">Mail</a> -->
          </div>
          <div class="footer-copy">
            ¬© 2025 by luannt0801
          </div>
        </div>
        
      </div>
    
    <div id="scrollProgress"></div>

    <div class="main-content">
        {{ content }}
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

    <script>
    async function loadCounters() {
        const base = "https://api.counterapi.dev/v2/luan_blog_workspace/luan_blog_0801";

        try {
            /* 1) Increase total counter */
            const upRes = await fetch(`${base}/up`);
            const upData = await upRes.json();

            console.log("UP DATA:", upData);

            const totalViews = upData?.data?.up_count ?? 0;
            document.getElementById("total-views-value").innerText = totalViews;


            /* 2) Get stats */
            const statsRes = await fetch(`${base}/stats`);
            const statsData = await statsRes.json();

            console.log("STATS DATA:", statsData);

            const stats = statsData?.data?.stats ?? {};

            /* Today */
            const todayViews = stats?.today?.up ?? 0;
            document.getElementById("today-views-value").innerText = todayViews;

            /* Yesterday:
            CounterAPI kh√¥ng c√≥ "yesterday" tr·ª±c ti·∫øp nh∆∞ng c√≥ weekdays.
            H√¥m nay l√† weekday n√†o ‚Üí l·∫•y h√¥m qua t·ª´ ƒë√≥.
            */
            const weekdayMap = ["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];
            const now = new Date();

            const todayName = weekdayMap[now.getDay()];
            const yesterdayIndex = (now.getDay() - 1 + 7) % 7;
            const yesterdayName = weekdayMap[yesterdayIndex];

            const yesterdayViews = stats.weekdays?.[yesterdayName]?.up ?? 0;
            document.getElementById("yesterday-views-value").innerText = yesterdayViews;

        } catch (err) {
            console.error("CounterAPI error:", err);
        }
    }

    loadCounters();
    </script>




  
     <link href="https://cdnjs.cloudflare.com/ajax/libs/rouge/3.26.0/themes/github.min.css" rel="stylesheet">
    <script src="/assets/js/scripts.js"></script>
</body>
</html>